
  	# 直接放回404
	location =/ {
		return 404;
	}

  	# maven
	location ~ ^/maven/(.*) {
		set $subPath $1;
		include vhosts/devops.mirrors.proxy.set.conf;
		proxy_set_header Host $target;
		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
		proxy_set_header Cookie $http_cookie;

		proxy_http_version 1.1;

		
		# 反向代理到目标ip，端口，路径和参数
		proxy_pass http://$target/maven/$subPath?$args;
	}

	# maven-snapshots
	location ~ ^/maven-snapshots/(.*) {
		set $subPath $1;
		include vhosts/devops.mirrors.proxy.set.conf;
		proxy_set_header Host $target;
		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
		proxy_set_header Cookie $http_cookie;

		proxy_http_version 1.1;
		
		# 反向代理到目标ip，端口，路径和参数
		proxy_pass http://$target/maven-snapshots/$subPath?$args;
	}

	# npm
	location ~ ^/npm/(.*) {
		set $subPath $1;
		include vhosts/devops.mirrors.proxy.set.conf;
		proxy_set_header Host $target;
		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
		proxy_set_header Cookie $http_cookie;

		proxy_http_version 1.1;
		
		# 反向代理到目标ip，端口，路径和参数
		proxy_pass http://$target/api/npm/npm/$subPath?$args;
	}

	# Pypi
	location ~ ^/pypi/(.*) {
		set $subPath $1;
		include vhosts/devops.mirrors.proxy.set.conf;
		proxy_set_header Host $target;
		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
		proxy_set_header Cookie $http_cookie;

		proxy_http_version 1.1;
		
		# 反向代理到目标ip，端口，路径和参数
		proxy_pass  http://$target/api/pypi/pypi/$subPath?$args;
	}

	# HomeBrew
	location ~ ^/homebrew/(.*) {
		set $subPath $1;
		include vhosts/devops.mirrors.proxy.set.conf;
		proxy_set_header Host $target;
		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
		proxy_set_header Cookie $http_cookie;

		proxy_http_version 1.1;
		
		# 反向代理到目标ip，端口，路径和参数
		proxy_pass http://$target/homebrew/$subPath?$args;
	}

	# brew.git
	location ~ ^/brew.git/(.*) {
		set $subPath $1;
		include vhosts/devops.mirrors.proxy.set.conf;
		proxy_set_header Host $target;
		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
		proxy_set_header Cookie $http_cookie;

		proxy_http_version 1.1;
		
		# 反向代理到目标ip，端口，路径和参数
		proxy_pass http://$target/brew/$subPath?$args;
	}

	# brew-core.git
	location ~ ^/brew-core.git/(.*) {
		set $subPath $1;
		include vhosts/devops.mirrors.proxy.set.conf;
		proxy_set_header Host $target;
		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
		proxy_set_header Cookie $http_cookie;

		proxy_http_version 1.1;
		
		# 反向代理到目标ip，端口，路径和参数
		proxy_pass http://$target/brew-core/$subPath?$args;
	}

	# rpm
	location ~ ^/rpm/(.*) {
		set $subPath $1;
		include vhosts/devops.mirrors.proxy.set.conf;
		proxy_set_header Host $target;
		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
		proxy_set_header Cookie $http_cookie;

		proxy_http_version 1.1;
		
		# 反向代理到目标ip，端口，路径和参数
		proxy_pass   http://$target/rpm/$subPath?$args;
	}

	# rpm-epel
	location ~ ^/rpm-epel/(.*) {
		set $subPath $1;
		include vhosts/devops.mirrors.proxy.set.conf;
		proxy_set_header Host $target;
		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
		proxy_set_header Cookie $http_cookie;

		proxy_http_version 1.1;
		
		# 反向代理到目标ip，端口，路径和参数
		proxy_pass   http://$target/rpm-epel/$subPath?$args;
	}

	# rpm-svn
	location ~ ^/rpm-svn/(.*) {
		set $subPath $1;
		include vhosts/devops.mirrors.proxy.set.conf;
		proxy_set_header Host $target;

		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
		proxy_set_header Cookie $http_cookie;

		proxy_http_version 1.1;
		
		# 反向代理到目标ip，端口，路径和参数
		proxy_pass   http://$target/rpm-svn/$subPath?$args;
	}

	# composer
	location ~ ^/composer/(.*) {
		set $subPath $1;
		include vhosts/devops.mirrors.proxy.set.conf;
		proxy_set_header Host $target;

		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
		proxy_set_header Cookie $http_cookie;

		proxy_http_version 1.1;
		
		# 反向代理到目标ip，端口，路径和参数
		proxy_pass   http://$target/api/composer/composer/$subPath?$args;
	}

	# maven-iyunwei
	location ~ ^/maven-iyunwei/(.*) {
		set $subPath $1;
		include vhosts/devops.mirrors.proxy.set.conf;
		proxy_set_header Host $target;

		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
		proxy_set_header Cookie $http_cookie;

		proxy_http_version 1.1;
		
		# 反向代理到目标ip，端口，路径和参数
		proxy_pass   http://$target/maven-iyunwei/$subPath?$args;
	}

	# maven-nfvc
	location ~ ^/maven-nfvc/(.*) {
		set $subPath $1;
		include vhosts/devops.mirrors.proxy.set.conf;
		proxy_set_header Host $target;

		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
		proxy_set_header Cookie $http_cookie;

		proxy_http_version 1.1;
		
		# 反向代理到目标ip，端口，路径和参数
		proxy_pass   http://$target/maven-nfvc/$subPath?$args;
	}

	# maven-nfvc-snapshots
	location ~ ^/maven-nfvc-snapshots/(.*) {
		set $subPath $1;
		include vhosts/devops.mirrors.proxy.set.conf;
		proxy_set_header Host $target;

		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
		proxy_set_header Cookie $http_cookie;

		proxy_http_version 1.1;
		
		# 反向代理到目标ip，端口，路径和参数
		proxy_pass   http://$target/maven-nfvc-snapshots/$subPath?$args;
	}

	# maven-local
	location ~ ^/maven-local/(.*) {
		set $subPath $1;
		include vhosts/devops.mirrors.proxy.set.conf;
		proxy_set_header Host $target;

		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
		proxy_set_header Cookie $http_cookie;

		proxy_http_version 1.1;
		
		# 反向代理到目标ip，端口，路径和参数
		proxy_pass   http://$target/$subPath?$args;
	}

	# maven-local
	location ~ ^/rpm-pcg/(.*) {
		set $subPath $1;
		include vhosts/devops.mirrors.proxy.set.conf;
		proxy_set_header Host $target;

		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
		proxy_set_header Cookie $http_cookie;

		proxy_http_version 1.1;
		
		# 反向代理到目标ip，端口，路径和参数
		proxy_pass   http://$target/rpm-pcg/$subPath?$args;
	}


	location ~ ^/(rpm-pcg|maven-local|maven-nfvc-snapshots|maven-nfvc|maven-iyunwei|composer|rpm-svn|rpm-epel|rpm|brew-core.git|brew.git|homebrew|pypi|npm|maven|maven-snapshots)$ {
		set $subPath $1;
		rewrite .* /$subPath/ redirect;
	}

